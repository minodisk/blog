<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>I/O</title>
  <link href="/css/gisty.css" rel="stylesheet">

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', '{ [] [89 111 117 84 117 98 101 227 130 146 101 109 98 101 100 227 129 153 227 130 139 227 129 168 74 97 118 97 83 99 114 105 112 116 227 129 174 65 80 73 227 129 140 228 189 191 227 129 136 227 130 139 227 130 136 227 129 134 227 129 171 227 129 170 227 130 138 227 129 190 227 129 153 227 128 130 10 60 115 99 114 105 112 116 32 116 121 112 101 61 34 116 101 120 116 47 106 97 118 97 115 99 114 105 112 116 34 32 115 114 99 61 34 104 116 116 112 58 47 47 97 106 97 120 46 103 111 111 103 108 101 97 112 105 115 46 99 111 109 47 97 106 97 120 47 108 105 98 115 47 115 119 102 111 98 106 101 99 116 47 50 46 50 47 115 119 102 111 98 106 101 99 116 46 106 115 34 62 60 47 115 99 114 105 112 116 62 10 60 100 105 118 32 105 100 61 34 121 116 97 112 105 112 108 97 121 101 114 34 62 10 32 32 89 111 117 32 110 101 101 100 32 70 108 97 115 104 32 112 108 97 121 101 114 32 56 43 32 97 110 100 32 74 97 118 97 83 99 114 105 112 116 32 101 110 97 98 108 101 100 32 116 111 32 118 105 101 119 32 116 104 105 115 32 118 105 100 101 111 46 10 60 47 100 105 118 62 10 60 100 105 118 32 105 100 61 34 108 111 103 34 32 115 116 121 108 101 61 34 104 101 105 103 104 116 58 49 53 48 112 120 59 111 118 101 114 102 108 111 119 45 121 58 115 99 114 111 108 108 59 119 104 105 116 101 45 115 112 97 99 101 58 112 114 101 45 119 114 97 112 59 102 111 110 116 45 102 97 109 105 108 121 58 109 111 110 111 115 112 97 99 101 59 102 111 110 116 45 115 105 122 101 58 49 50 112 120 59 108 105 110 101 45 104 101 105 103 104 116 58 49 54 112 120 59 34 62 10 60 47 100 105 118 62 10 60 115 99 114 105 112 116 32 116 121 112 101 61 34 116 101 120 116 47 106 97 118 97 115 99 114 105 112 116 34 62 10 118 97 114 32 83 84 65 84 69 83 32 61 32 123 10 32 32 39 45 49 39 58 32 39 230 156 170 233 150 139 229 167 139 39 44 10 32 32 39 48 39 58 32 39 231 181 130 228 186 134 39 44 10 32 32 39 49 39 58 32 39 229 134 141 231 148 159 228 184 173 39 44 10 32 32 39 50 39 58 32 39 228 184 128 230 153 130 229 129 156 230 173 162 228 184 173 39 44 10 32 32 39 51 39 58 32 39 227 131 144 227 131 131 227 131 149 227 130 161 227 131 170 227 131 179 227 130 176 228 184 173 39 44 10 32 32 39 53 39 58 32 39 233 160 173 229 135 186 227 129 151 230 184 136 227 129 191 39 10 125 59 10 118 97 114 32 112 97 114 97 109 115 32 61 32 123 32 97 108 108 111 119 83 99 114 105 112 116 65 99 99 101 115 115 58 32 34 97 108 119 97 121 115 34 32 125 59 10 118 97 114 32 97 116 116 115 32 61 32 123 32 105 100 58 32 34 109 121 121 116 112 108 97 121 101 114 34 32 125 59 10 115 119 102 111 98 106 101 99 116 46 101 109 98 101 100 83 87 70 40 10 32 32 34 104 116 116 112 58 47 47 119 119 119 46 121 111 117 116 117 98 101 46 99 111 109 47 118 47 117 49 122 103 70 108 67 119 56 65 119 63 101 110 97 98 108 101 106 115 97 112 105 61 49 38 112 108 97 121 101 114 97 112 105 105 100 61 121 116 112 108 97 121 101 114 34 44 10 32 32 34 121 116 97 112 105 112 108 97 121 101 114 34 44 32 34 52 50 53 34 44 32 34 51 53 54 34 44 32 34 56 34 44 32 110 117 108 108 44 32 110 117 108 108 44 32 112 97 114 97 109 115 44 32 97 116 116 115 10 32 32 41 59 10 118 97 114 32 36 108 111 103 32 61 32 36 40 39 35 108 111 103 39 41 59 10 10 102 117 110 99 116 105 111 110 32 111 110 89 111 117 84 117 98 101 80 108 97 121 101 114 82 101 97 100 121 40 112 108 97 121 101 114 73 100 41 32 123 10 32 32 118 97 114 32 121 116 112 108 97 121 101 114 32 61 32 100 111 99 117 109 101 110 116 46 103 101 116 69 108 101 109 101 110 116 66 121 73 100 40 34 109 121 121 116 112 108 97 121 101 114 34 41 59 10 32 32 121 116 112 108 97 121 101 114 46 97 100 100 69 118 101 110 116 76 105 115 116 101 110 101 114 40 39 111 110 83 116 97 116 101 67 104 97 110 103 101 39 44 32 39 111 110 83 116 97 116 101 67 104 97 110 103 101 39 41 59 10 125 10 102 117 110 99 116 105 111 110 32 111 110 83 116 97 116 101 67 104 97 110 103 101 40 115 116 97 116 101 41 32 123 10 32 32 108 111 103 40 39 111 110 83 116 97 116 101 67 104 97 110 103 101 58 39 44 32 115 116 97 116 101 44 32 39 61 39 44 32 83 84 65 84 69 83 91 39 39 32 43 32 115 116 97 116 101 93 41 59 10 125 10 102 117 110 99 116 105 111 110 32 108 111 103 40 41 32 123 10 32 32 36 108 111 103 10 32 32 32 32 46 116 101 120 116 40 36 108 111 103 46 116 101 120 116 40 41 32 43 32 65 114 114 97 121 46 112 114 111 116 111 116 121 112 101 46 106 111 105 110 46 99 97 108 108 40 97 114 103 117 109 101 110 116 115 44 32 39 32 39 41 32 43 32 39 92 110 39 41 10 32 32 32 32 46 115 99 114 111 108 108 84 111 112 40 36 108 111 103 46 112 114 111 112 40 39 115 99 114 111 108 108 72 101 105 103 104 116 39 41 41 59 10 125 10 60 47 115 99 114 105 112 116 62 10 10 35 35 32 69 120 116 101 114 110 97 108 73 110 116 101 114 102 97 99 101 32 227 129 171 233 150 162 227 129 153 227 130 139 32 84 105 112 115 10 10 89 111 117 84 117 98 101 32 74 97 118 97 83 99 114 105 112 116 32 65 80 73 32 227 129 139 227 130 137 227 129 175 32 96 69 120 116 101 114 110 97 108 73 110 116 101 114 102 97 99 101 46 99 97 108 108 96 32 231 181 140 231 148 177 227 129 167 32 74 97 118 97 83 99 114 105 112 116 32 227 129 140 227 130 179 227 131 188 227 131 171 227 129 149 227 130 140 227 130 139 227 128 130 10 227 129 147 227 129 174 65 80 73 227 129 171 233 153 144 227 130 137 227 129 154 32 96 69 120 116 101 114 110 97 108 73 110 116 101 114 102 97 99 101 46 99 97 108 108 96 32 227 130 146 228 189 191 227 129 134 233 154 155 227 129 171 229 133 177 233 128 154 227 129 174 230 179 168 230 132 143 231 130 185 227 129 160 227 129 140 227 128 129 70 108 97 115 104 80 108 97 121 101 114 32 227 129 175 32 74 97 118 97 83 99 114 105 112 116 32 227 129 174 227 131 161 227 130 189 227 131 131 227 131 137 227 129 174 227 129 157 227 129 174 230 136 187 227 130 138 227 130 146 229 190 133 227 129 163 227 129 166 227 129 132 227 130 139 233 150 147 227 131 172 227 131 179 227 131 128 227 131 170 227 131 179 227 130 176 227 130 146 227 130 132 227 130 129 227 129 166 227 129 151 227 129 190 227 129 134 227 128 130 10 229 175 190 231 173 150 227 129 168 227 129 151 227 129 166 227 128 129 74 97 118 97 83 99 114 105 112 116 32 227 129 139 227 130 137 228 189 149 227 130 130 232 191 148 227 129 149 227 129 170 227 129 132 229 160 180 229 144 136 227 129 175 230 172 161 227 129 174 227 130 164 227 131 153 227 131 179 227 131 136 227 131 171 227 131 188 227 131 151 227 129 167 229 135 166 231 144 134 227 130 146 232 161 140 227 129 132 227 128 129 233 150 162 230 149 176 232 135 170 228 189 147 227 129 175 32 96 114 101 116 117 114 110 96 32 227 129 151 227 129 166 32 70 108 97 115 104 80 108 97 121 101 114 32 227 129 174 227 131 172 227 131 179 227 131 128 227 131 170 227 131 179 227 130 176 227 130 146 229 134 141 233 150 139 227 129 149 227 129 155 227 129 166 227 129 130 227 129 146 227 130 139 227 129 174 227 129 140 227 130 185 227 131 160 227 131 188 227 130 186 227 129 171 232 166 139 227 129 136 227 130 139 227 128 130 10 10 60 100 105 118 32 99 108 97 115 115 61 34 104 105 103 104 108 105 103 104 116 34 62 60 112 114 101 62 60 115 112 97 110 32 99 108 97 115 115 61 34 107 100 34 62 102 117 110 99 116 105 111 110 60 47 115 112 97 110 62 32 60 115 112 97 110 32 99 108 97 115 115 61 34 110 120 34 62 111 110 83 116 97 116 101 67 104 97 110 103 101 60 47 115 112 97 110 62 60 115 112 97 110 32 99 108 97 115 115 61 34 112 34 62 40 60 47 115 112 97 110 62 60 115 112 97 110 32 99 108 97 115 115 61 34 110 120 34 62 115 116 97 116 101 60 47 115 112 97 110 62 60 115 112 97 110 32 99 108 97 115 115 61 34 112 34 62 41 60 47 115 112 97 110 62 32 60 115 112 97 110 32 99 108 97 115 115 61 34 112 34 62 123 60 47 115 112 97 110 62 10 32 32 60 115 112 97 110 32 99 108 97 115 115 61 34 110 120 34 62 115 101 116 84 105 109 101 111 117 116 60 47 115 112 97 110 62 60 115 112 97 110 32 99 108 97 115 115 61 34 112 34 62 40 60 47 115 112 97 110 62 60 115 112 97 110 32 99 108 97 115 115 61 34 107 100 34 62 102 117 110 99 116 105 111 110 60 47 115 112 97 110 62 32 60 115 112 97 110 32 99 108 97 115 115 61 34 112 34 62 40 41 60 47 115 112 97 110 62 32 60 115 112 97 110 32 99 108 97 115 115 61 34 112 34 62 123 60 47 115 112 97 110 62 10 32 32 32 32 60 115 112 97 110 32 99 108 97 115 115 61 34 110 120 34 62 108 111 103 60 47 115 112 97 110 62 60 115 112 97 110 32 99 108 97 115 115 61 34 112 34 62 40 41 59 60 47 115 112 97 110 62 10 32 32 60 115 112 97 110 32 99 108 97 115 115 61 34 112 34 62 125 41 59 60 47 115 112 97 110 62 10 32 32 60 115 112 97 110 32 99 108 97 115 115 61 34 107 34 62 114 101 116 117 114 110 60 47 115 112 97 110 62 60 115 112 97 110 32 99 108 97 115 115 61 34 112 34 62 59 60 47 115 112 97 110 62 10 60 115 112 97 110 32 99 108 97 115 115 61 34 112 34 62 125 60 47 115 112 97 110 62 10 60 47 112 114 101 62 60 47 100 105 118 62 10 10] \n\n\x3cp\x3eYouTubeをembedするとJavaScriptのAPIが使えるようになります。\n\x3cscript type=\x22text\/javascript\x22 src=\x22http:\/\/ajax.googleapis.com\/ajax\/libs\/swfobject\/2.2\/swfobject.js\x22\x3e\x3c\/script\x3e\n\x3cdiv id=\x22ytapiplayer\x22\x3e\n  You need Flash player 8\x2b and JavaScript enabled to view this video.\n\x3c\/div\x3e\n\x3cdiv id=\x22log\x22 style=\x22height:150px;overflow-y:scroll;white-space:pre-wrap;font-family:monospace;font-size:12px;line-height:16px;\x22\x3e\n\x3c\/div\x3e\n\x3cscript type=\x22text\/javascript\x22\x3e\nvar STATES = {\n  \x26lsquo;-1\x26rsquo;: \x26lsquo;未開始\x26rsquo;,\n  \x26lsquo;0\x26rsquo;: \x26lsquo;終了\x26rsquo;,\n  \x26lsquo;1\x26rsquo;: \x26lsquo;再生中\x26rsquo;,\n  \x26lsquo;2\x26rsquo;: \x26lsquo;一時停止中\x26rsquo;,\n  \x26lsquo;3\x26rsquo;: \x26lsquo;バッファリング中\x26rsquo;,\n  \x26lsquo;5\x26rsquo;: \x26lsquo;頭出し済み\x26rsquo;\n};\nvar params = { allowScriptAccess: \x26ldquo;always\x26rdquo; };\nvar atts = { id: \x26ldquo;myytplayer\x26rdquo; };\nswfobject.embedSWF(\n  \x26ldquo;\x3ca href=\x22http:\/\/www.youtube.com\/v\/u1zgFlCw8Aw?enablejsapi=1\x26amp;playerapiid=ytplayer\x26quot;\x22\x3ehttp:\/\/www.youtube.com\/v\/u1zgFlCw8Aw?enablejsapi=1\x26amp;playerapiid=ytplayer\x26quot;\x3c\/a\x3e,\n  \x26ldquo;ytapiplayer\x26rdquo;, \x26ldquo;425\x26rdquo;, \x26ldquo;356\x26rdquo;, \x26ldquo;8\x26rdquo;, null, null, params, atts\n  );\nvar $log = $(\x26lsquo;#log\x26rsquo;);\x3c\/p\x3e\n\n\x3cp\x3efunction onYouTubePlayerReady(playerId) {\n  var ytplayer = document.getElementById(\x26ldquo;myytplayer\x26rdquo;);\n  ytplayer.addEventListener(\x26lsquo;onStateChange\x26rsquo;, \x26lsquo;onStateChange\x26rsquo;);\n}\nfunction onStateChange(state) {\n  log(\x26lsquo;onStateChange:\x26lsquo;, state, \x26lsquo;=\x26rsquo;, STATES[\x26rdquo; \x2b state]);\n}\nfunction log() {\n  $log\n    .text($log.text() \x2b Array.prototype.join.call(arguments, \x26lsquo; \x26lsquo;) \x2b \x26lsquo;\\n\x26rsquo;)\n    .scrollTop($log.prop(\x26lsquo;scrollHeight\x26rsquo;));\n}\n\x3c\/script\x3e\x3c\/p\x3e\n\n\x3ch2 id=\x22toc_0\x22\x3eExternalInterface に関する Tips\x3c\/h2\x3e\n\n\x3cp\x3eYouTube JavaScript API からは \x3ccode\x3eExternalInterface.call\x3c\/code\x3e 経由で JavaScript がコールされる。\nこのAPIに限らず \x3ccode\x3eExternalInterface.call\x3c\/code\x3e を使う際に共通の注意点だが、FlashPlayer は JavaScript のメソッドのその戻りを待っている間レンダリングをやめてしまう。\n対策として、JavaScript から何も返さない場合は次のイベントループで処理を行い、関数自体は \x3ccode\x3ereturn\x3c\/code\x3e して FlashPlayer のレンダリングを再開させてあげるのがスムーズに見える。\x3c\/p\x3e\n\n\x3cdiv class=\x22highlight\x22\x3e\x3cpre\x3e\x3cspan class=\x22kd\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22nx\x22\x3eonStateChange\x3c\/span\x3e\x3cspan class=\x22p\x22\x3e(\x3c\/span\x3e\x3cspan class=\x22nx\x22\x3estate\x3c\/span\x3e\x3cspan class=\x22p\x22\x3e)\x3c\/span\x3e \x3cspan class=\x22p\x22\x3e{\x3c\/span\x3e\n  \x3cspan class=\x22nx\x22\x3esetTimeout\x3c\/span\x3e\x3cspan class=\x22p\x22\x3e(\x3c\/span\x3e\x3cspan class=\x22kd\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22p\x22\x3e()\x3c\/span\x3e \x3cspan class=\x22p\x22\x3e{\x3c\/span\x3e\n    \x3cspan class=\x22nx\x22\x3elog\x3c\/span\x3e\x3cspan class=\x22p\x22\x3e();\x3c\/span\x3e\n  \x3cspan class=\x22p\x22\x3e});\x3c\/span\x3e\n  \x3cspan class=\x22k\x22\x3ereturn\x3c\/span\x3e\x3cspan class=\x22p\x22\x3e;\x3c\/span\x3e\n\x3cspan class=\x22p\x22\x3e}\x3c\/span\x3e\n\x3c\/pre\x3e\x3c\/div\x3e\n YouTubeをembedするとJavaScriptのAPIが使えるようになります。 You need Flash player 8\x2b and JavaScript enabled to view this video. var STATES = { \x26lsquo;-1\x26rsquo;: \x26lsquo;未開始\x26rsquo;, \x26lsquo;0\x26rsquo;: \x26lsquo;終了\x26rsquo;, \x26lsquo;1\x26rsquo;: \x26lsquo;再生中\x26rsquo;, \x26lsquo;2\x26rsquo;: \x26lsquo;一時停止中\x26rsquo;, \x26lsquo;3\x26rsquo;: \x26lsquo;バッファリング中\x26rsquo;, \x26lsquo;5\x26rsquo;: \x26lsquo;頭出し済み\x26rsquo; }; var params = { allowScriptAccess: \x26ldquo;always\x26rdquo; }; var atts = { id: \x26ldquo;myytplayer\x26rdquo; }; swfobject.embedSWF( \x26ldquo;http:\/\/www.youtube.com\/v\/u1zgFlCw8Aw?enablejsapi=1\x26amp;playerapiid=ytplayer\x26quot;, \x26ldquo;ytapiplayer\x26rdquo;, \x26ldquo;425\x26rdquo;, \x26ldquo;356\x26rdquo;, \x26ldquo;8\x26rdquo;, null, null, params, atts ); var $log = $(\x26lsquo;#log\x26rsquo;); function onYouTubePlayerReady(playerId) { var ytplayer = document.getElementById(\x26ldquo;myytplayer\x26rdquo;); ytplayer.addEventListener(\x26lsquo;onStateChange\x26rsquo;, \x26lsquo;onStateChange\x26rsquo;); } function \x3cnav id=\x22TableOfContents\x22\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22#toc_0\x22\x3eExternalInterface に関する Tips\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/nav\x3e true YouTubeをembedするとJavaScriptのAPIが使えるようになります。     You need Flash player 8\x2b and JavaScript enabled to view this video.     var STATES = {   \x26lsquo;-1\x26rsquo;: \x26lsquo;未開始\x26rsquo;,   \x26lsquo;0\x26rsquo;: \x26lsquo;終了\x26rsquo;,   \x26lsquo;1\x26rsquo;: \x26lsquo;再生中\x26rsquo;,   \x26lsquo;2\x26rsquo;: \x26lsquo;一時停止中\x26rsquo;,   \x26lsquo;3\x26rsquo;: \x26lsquo;バッファリング中\x26rsquo;,   \x26lsquo;5\x26rsquo;: \x26lsquo;頭出し済み\x26rsquo; }; var params = { allowScriptAccess: \x26ldquo;always\x26rdquo; }; var atts = { id: \x26ldquo;myytplayer\x26rdquo; }; swfobject.embedSWF(   \x26ldquo;http:\/\/www.youtube.com\/v\/u1zgFlCw8Aw?enablejsapi=1\x26amp;playerapiid=ytplayer\x26quot;,   \x26ldquo;ytapiplayer\x26rdquo;, \x26ldquo;425\x26rdquo;, \x26ldquo;356\x26rdquo;, \x26ldquo;8\x26rdquo;, null, null, params, atts   ); var $log = $(\x26lsquo;#log\x26rsquo;); \n  function onYouTubePlayerReady(playerId) {   var ytplayer = document.getElementById(\x26ldquo;myytplayer\x26rdquo;);   ytplayer.addEventListener(\x26lsquo;onStateChange\x26rsquo;, \x26lsquo;onStateChange\x26rsquo;); } function onStateChange(state) {   log(\x26lsquo;onStateChange:\x26lsquo;, state, \x26lsquo;=\x26rsquo;, STATES[\x26rdquo; \x2b state]); } function log() {   $log     .text($log.text() \x2b Array.prototype.join.call(arguments, \x26lsquo; \x26lsquo;) \x2b \x26lsquo;\\n\x26rsquo;)     .scrollTop($log.prop(\x26lsquo;scrollHeight\x26rsquo;)); }  \n  ExternalInterface に関する Tips  YouTube JavaScript API からは ExternalInterface.call 経由で JavaScript がコールされる。 このAPIに限らず ExternalInterface.call を使う際に共通の注意点だが、FlashPlayer は JavaScript のメソッドのその戻りを待っている間レンダリングをやめてしまう。 対策として、JavaScript から何も返さない場合は次のイベントループで処理を行い、関数自体は return して FlashPlayer のレンダリングを再開させてあげるのがスムーズに見える。 \n   function onStateChange(state) {   setTimeout(function () {     log();   });   return; }  \n  map[comments:true tags:[JavaScript YouTube API]]  false 0001-01-01 00:00:00 \x2b0000 UTC [] 0xc2102c4140  true post  [45 45 45 10 108 97 121 111 117 116 58 32 112 111 115 116 10 116 105 116 108 101 58 32 34 89 111 117 84 117 98 101 32 74 97 118 97 83 99 114 105 112 116 32 65 80 73 34 10 100 97 116 101 58 32 50 48 49 52 45 48 50 45 48 53 32 48 49 58 51 56 58 53 51 32 43 48 57 48 48 10 99 111 109 109 101 110 116 115 58 32 116 114 117 101 10 116 97 103 115 58 32 91 74 97 118 97 83 99 114 105 112 116 44 32 89 111 117 84 117 98 101 44 32 65 80 73 93 10 45 45 45 10] [] [] {125 200 1 0} {youtube-javascript-api.md html post\/} {0xc21011a600 0xc210607340} { 0xc2105c8728 map[] YouTube JavaScript API  [] map[] 0001-01-01 00:00:00 \x2b0000 UTC { -1} {   post}}}');
  ga('send', 'pageview');
</script>


</head>
<body>
  <div class="wrapper">
    <header class="header">
      <div class="container">
        <h1><a href="http://localhost:1313">I/O</a></h1>
      </div>
    </header>
    <div class="body">
      <div class="container">

<article class="article">
  <h1 class="article-title">YouTube JavaScript API</h1>
  <p class="meta"><small>&nbsp;<i class="fa fa-calendar-o"></i> 0001-01-01</small></p> <hr/>
  <div class="article-content">
    

<p>YouTubeをembedするとJavaScriptのAPIが使えるようになります。
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
<div id="ytapiplayer">
  You need Flash player 8+ and JavaScript enabled to view this video.
</div>
<div id="log" style="height:150px;overflow-y:scroll;white-space:pre-wrap;font-family:monospace;font-size:12px;line-height:16px;">
</div>
<script type="text/javascript">
var STATES = {
  &lsquo;-1&rsquo;: &lsquo;未開始&rsquo;,
  &lsquo;0&rsquo;: &lsquo;終了&rsquo;,
  &lsquo;1&rsquo;: &lsquo;再生中&rsquo;,
  &lsquo;2&rsquo;: &lsquo;一時停止中&rsquo;,
  &lsquo;3&rsquo;: &lsquo;バッファリング中&rsquo;,
  &lsquo;5&rsquo;: &lsquo;頭出し済み&rsquo;
};
var params = { allowScriptAccess: &ldquo;always&rdquo; };
var atts = { id: &ldquo;myytplayer&rdquo; };
swfobject.embedSWF(
  &ldquo;<a href="http://www.youtube.com/v/u1zgFlCw8Aw?enablejsapi=1&amp;playerapiid=ytplayer&quot;">http://www.youtube.com/v/u1zgFlCw8Aw?enablejsapi=1&amp;playerapiid=ytplayer&quot;</a>,
  &ldquo;ytapiplayer&rdquo;, &ldquo;425&rdquo;, &ldquo;356&rdquo;, &ldquo;8&rdquo;, null, null, params, atts
  );
var $log = $(&lsquo;#log&rsquo;);</p>

<p>function onYouTubePlayerReady(playerId) {
  var ytplayer = document.getElementById(&ldquo;myytplayer&rdquo;);
  ytplayer.addEventListener(&lsquo;onStateChange&rsquo;, &lsquo;onStateChange&rsquo;);
}
function onStateChange(state) {
  log(&lsquo;onStateChange:&lsquo;, state, &lsquo;=&rsquo;, STATES[&rdquo; + state]);
}
function log() {
  $log
    .text($log.text() + Array.prototype.join.call(arguments, &lsquo; &lsquo;) + &lsquo;\n&rsquo;)
    .scrollTop($log.prop(&lsquo;scrollHeight&rsquo;));
}
</script></p>

<h2 id="toc_0">ExternalInterface に関する Tips</h2>

<p>YouTube JavaScript API からは <code>ExternalInterface.call</code> 経由で JavaScript がコールされる。
このAPIに限らず <code>ExternalInterface.call</code> を使う際に共通の注意点だが、FlashPlayer は JavaScript のメソッドのその戻りを待っている間レンダリングをやめてしまう。
対策として、JavaScript から何も返さない場合は次のイベントループで処理を行い、関数自体は <code>return</code> して FlashPlayer のレンダリングを再開させてあげるのがスムーズに見える。</p>

<div class="highlight"><pre><span class="kd">function</span> <span class="nx">onStateChange</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">();</span>
  <span class="p">});</span>
  <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

  </div>
</article>

<a href="https://twitter.com/share" class="twitter-share-button " data-size="small" data-count="none">Tweet</a>
<script>
!function(d,s,id){
  var js
  ,fjs=d.getElementsByTagName(s)[0]
  ,p=/^http:/.test(d.location)?'http':'https'
  ;
  if (!d.getElementById(id)) {
    js=d.createElement(s);
    js.id=id;
    js.src=p+'://platform.twitter.com/widgets.js';
    fjs.parentNode.insertBefore(js,fjs);
  }
}(document, 'script', 'twitter-wjs');
</script>


  <ul class="post-pagination">
    <li class="prev"><a rel="prev" href="http://localhost:1313/post/backbone-tips">Backbone Tips</a></li>
    <li class="next"><a rel="next" href="http://localhost:1313/post/install-node-canvas">Install node-canvas</a></li>
  </ul>



    </ul>
    </div>
      </div>
    </div>
  </div>
<script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>

